<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Jasa Bubut Cikarang - BJE Engineering</title>
  <meta name="description" content="BJE Engineering melayani jasa bubut presisi di Cikarang sejak 2011. Akurat dan terpercaya.">
  <meta name="keywords" content="jasa bubut Cikarang, bubut presisi, bengkel bubut, bubut logam">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ✅ Top Bar Akun Modern di Pojok Kanan -->
<div class="logo-top-left">
  <img src="images/logo group.png" alt="BJE Group Logo">
</div>

	<!-- Tombol Aksi Jika Login -->
	<div class="top-bar">
  <div class="icon-buttons" id="actionButtons" style="display: none;">
    <button class="icon-button" title="Pesan">📩</button>
    <button class="icon-button" title="Notifikasi">🔔</button>
    <button class="icon-button" title="Order Saya">📝</button>
  </div>

  <!-- Avatar User Jika Login -->
  <div class="avatar-container" id="userMenu" style="display: none;" onclick="toggleDropdown()">
    <img src="images/user-icon.png" alt="User Avatar" class="avatar">
  </div>

  <!-- Tombol Login/Daftar Jika Belum Login -->
  <div id="authButtons" class="auth-buttons">
    <a href="login.html" class="login-btn">Login</a>
    <a href="register.html" class="register-btn">Daftar</a>
  </div>
</div>

<!-- Panel Dropdown User -->
<div class="dropdown-panel" id="dropdownContent">
  <div class="user-info">
    <img src="images/user-icon.png" class="avatar small" alt="User Avatar">
    <div>
      <strong>BJE User</strong><br>
      <span>user@example.com</span>
    </div>
  </div>
  <a href="#"><i>📂</i> Dashboard</a>
  <a href="#"><i>⚙️</i> Pengaturan</a>
  <a href="#"><i>📦</i> Pesanan</a>
  <a href="#" onclick="logout()"><i>🚪</i> Logout</a>
</div>

<header>
  <h1>Jasa Bubut Cikarang</h1>
  <p>Presisi & Profesional sejak 2011 - BJE Engineering</p>
</header>

<div class="container">
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="index.html">Beranda</a> &rsaquo; <span>Jasa Bubut</span>
  </nav>

  <section>
    <p><strong>BJE Engineering</strong> adalah bengkel bubut profesional di Cikarang. Kami melayani pengerjaan shaft, sleeve, bushing, axle, dan berbagai komponen industri berbasis mesin bubut manual maupun CNC.</p>

    <div class="features">
      <div class="feature-box">
        <strong>✅ Presisi Tinggi</strong><br>Toleransi hingga ±0.02 mm
      </div>
      <div class="feature-box">
        <strong>✅ Kapasitas Diameter Besar</strong><br> Dari kecil hingga besar
      </div>
      <div class="feature-box">
        <strong>✅ Material Beragam</strong><br>Baja, kuningan, aluminium, stainless
      </div>
    </div>

    <a href="index.html#hubungi-kami" class="button">💬 Minta Penawaran Sekarang</a>
  </section>

  <section>
    <h2>Galeri Hasil Bubut</h2>
    <div class="gallery">
      <div class="card">
        <img src="images/IMG_20250710_205956.jpg" alt="Contoh pengerjaan bubut shaft">
        <p>Bubut Shaft</p>
      </div>
      <div class="card">
        <img src="images/IMG_20230210_182257.jpg" alt="Contoh bubut dan drilling">
        <p>Bubut & Drilling</p>
      </div>
    </div>
  </section>

  <section>
    <h2>Kontak & Pemesanan</h2>
    <p>📞 <a href="https://wa.me/628982425835" target="_blank">0898-2425-835</a> atau isi formulir online.</p>
    <a href="https://bjeengineering.infinityfreeapp.com/#form" class="button">📥 Isi Formulir Pemesanan</a>
  </section>
</div>

<!-- ✅ Footer -->
<footer>
  <p>&copy; 2025 BJE ENGINEERING | Jasa Bubut Cikarang</p>
  <p>
    <strong>Layanan:</strong>
    <a href="jasa-bubut-cikarang.html">Bubut</a> |
    <a href="jasa-milling-cikarang.html">Milling</a> |
    <a href="jasa-slotting-cikarang.html">Slotting</a> |
    <a href="fabrikasi-komponen-industri.html">Fabrikasi</a> |
    <a href="portofolio.html">Portofolio</a>
  </p>
</footer>

<!-- ✅ Script Dropdown -->
  <script>
    function toggleDropdown() {
      const panel = document.getElementById("dropdownContent");
      panel.style.display = panel.style.display === "block" ? "none" : "block";
    }

    window.addEventListener("click", function (e) {
      if (!e.target.closest(".account-dropdown")) {
        document.getElementById("dropdownContent").style.display = "none";
      }
    });

    window.addEventListener("DOMContentLoaded", () => {
      const loggedIn = localStorage.getItem('login') === 'true';
      if (loggedIn) {
        document.getElementById("userMenu").style.display = 'block';
      } else {
        document.getElementById("authButtons").style.display = 'flex';
      }
    });

    function logout() {
      localStorage.removeItem('login');
      window.location.reload();
    }
  </script>

<!-- Fuse.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

<script>
  async function fetchIndex() {
    const res = await fetch('search-index.json');
    return await res.json();
  }

  function renderResults(results) {
    const container = document.getElementById('search-results');
    container.innerHTML = '';
    if (results.length === 0) {
      container.innerHTML = '<p>Tidak ada hasil ditemukan.</p>';
      return;
    }
    results.forEach(item => {
      const card = document.createElement('a');
      card.className = 'result-card';
      card.href = item.url;
      card.innerHTML = `
        ${item.image ? `<img src="${item.image}" alt="${item.title}">` : ''}
        <div class="result-content">
          <div class="result-title">${item.title}</div>
          <div class="result-category">Kategori: ${item.category}</div>
          <div class="result-description">${item.description}</div>
        </div>
      `;
      container.appendChild(card);
    });
  }

  async function initLiveSearch() {
    const data = await fetchIndex();
    const fuse = new Fuse(data, {
      keys: ['title', 'description', 'category'],
      includeScore: false,
      threshold: 0.4,
    });

    const input = document.getElementById('search-input');
    const category = document.getElementById('category-filter');
    const form = document.getElementById('live-search-form');

    function searchNow(e) {
      if (e) e.preventDefault();
      const keyword = input.value.trim();
      const selected = category.value;
      let results = keyword ? fuse.search(keyword).map(r => r.item) : data;
      if (selected !== 'all') {
        results = results.filter(r => r.category === selected);
      }
      renderResults(results);
    }

    input.addEventListener('input', searchNow);
    category.addEventListener('change', searchNow);
    form.addEventListener('submit', searchNow);
  }

  initLiveSearch();
</script>

</body>
</html>
