<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fabrikasi Komponen Industri - BJE Engineering</title>
  <meta name="description" content="Jasa fabrikasi komponen industri: bracket, rangka, jig, dan part custom.">
  <meta name="keywords" content="fabrikasi industri, bracket gearbox, jig welding, rangka mesin">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- âœ… Top Bar Akun Modern di Pojok Kanan -->
<div class="top-bar">
  <!-- Tombol Aksi Jika Login -->
  <div class="icon-buttons" id="actionButtons" style="display: none;">
    <button class="icon-button" title="Pesan">ğŸ“©</button>
    <button class="icon-button" title="Notifikasi">ğŸ””</button>
    <button class="icon-button" title="Order Saya">ğŸ“</button>
  </div>

  <!-- Avatar User Jika Login -->
  <div class="avatar-container" id="userMenu" style="display: none;" onclick="toggleDropdown()">
    <img src="images/user-icon.png" alt="User Avatar" class="avatar">
  </div>

  <!-- Tombol Login/Daftar Jika Belum Login -->
  <div id="authButtons" class="auth-buttons">
    <a href="login.html" class="login-btn">Login</a>
    <a href="register.html" class="register-btn">Daftar</a>
  </div>
</div>

<!-- Panel Dropdown User -->
<div class="dropdown-panel" id="dropdownContent">
  <div class="user-info">
    <img src="images/user-icon.png" class="avatar small" alt="User Avatar">
    <div>
      <strong>BJE User</strong><br>
      <span>user@example.com</span>
    </div>
  </div>
  <a href="#"><i>ğŸ“‚</i> Dashboard</a>
  <a href="#"><i>âš™ï¸</i> Pengaturan</a>
  <a href="#"><i>ğŸ“¦</i> Pesanan</a>
  <a href="#" onclick="logout()"><i>ğŸšª</i> Logout</a>
</div>

<header>
  <h1>Fabrikasi Komponen Industri</h1>
  <p>Spesialis Konstruksi Logam & Rangka Mesin</p>
</header>

<div class="container">
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="index.html">Beranda</a> &rsaquo; <span>Fabrikasi Industri</span>
  </nav>

  <section>
    <p>Kami melayani pembuatan <strong>komponen fabrikasi</strong> seperti bracket, rangka mesin, jig welding, dudukan motor gearbox, dan custom part industri lainnya.</p>
    <div class="features">
      <div class="feature-box">âœ… Desain dari File atau Sketsa</div>
      <div class="feature-box">âœ… MIG/TIG Welding & Finishing</div>
      <div class="feature-box">âœ… Cocok untuk Otomotif, Tekstil, Makanan</div>
    </div>
    <a href="index.html#hubungi-kami" class="button">ğŸ’¬ Ajukan Permintaan</a>
  </section>

  <section>
    <h2>Contoh Proyek Fabrikasi</h2>
    <div class="gallery">
      <div class="card"><img src="images/IMG_20191009_183626.jpg" alt="Rangka Besi"><p>Rangka Besi Custom</p></div>
      <div class="card"><img src="images/IMG_20200814_192100.jpg" alt="Bracket Gearbox"><p>Bracket Gearbox</p></div>
    </div>
  </section>

  <section>
    <h2>Kontak Kami</h2>
    <p>ğŸ“ <a href="https://wa.me/628982425835" target="_blank">0898-2425-835</a> atau isi formulir online.</p>
    <a href="https://bjeengineering.infinityfreeapp.com/#form" class="button">ğŸ“¥ Formulir Penawaran</a>
  </section>
</div>

<!-- âœ… Footer -->
<footer>
  <p>&copy; 2025 BJE ENGINEERING | Jasa Fabrikasi Industri</p>
  <p>
    <strong>Layanan:</strong>
    <a href="jasa-bubut-cikarang.html">Bubut</a> |
    <a href="jasa-milling-cikarang.html">Milling</a> |
    <a href="jasa-slotting-cikarang.html">Slotting</a> |
    <a href="fabrikasi-komponen-industri.html">Fabrikasi</a> |
    <a href="portofolio.html">Portofolio</a>
  </p>
</footer>

<!-- âœ… Script Dropdown -->
  <script>
    function toggleDropdown() {
      const panel = document.getElementById("dropdownContent");
      panel.style.display = panel.style.display === "block" ? "none" : "block";
    }

    window.addEventListener("click", function (e) {
      if (!e.target.closest(".account-dropdown")) {
        document.getElementById("dropdownContent").style.display = "none";
      }
    });

    window.addEventListener("DOMContentLoaded", () => {
      const loggedIn = localStorage.getItem('login') === 'true';
      if (loggedIn) {
        document.getElementById("userMenu").style.display = 'block';
      } else {
        document.getElementById("authButtons").style.display = 'flex';
      }
    });

    function logout() {
      localStorage.removeItem('login');
      window.location.reload();
    }
  </script>

<!-- Fuse.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

<script>
  async function fetchIndex() {
    const res = await fetch('search-index.json');
    return await res.json();
  }

  function renderResults(results) {
    const container = document.getElementById('search-results');
    container.innerHTML = '';
    if (results.length === 0) {
      container.innerHTML = '<p>Tidak ada hasil ditemukan.</p>';
      return;
    }
    results.forEach(item => {
      const card = document.createElement('a');
      card.className = 'result-card';
      card.href = item.url;
      card.innerHTML = `
        ${item.image ? `<img src="${item.image}" alt="${item.title}">` : ''}
        <div class="result-content">
          <div class="result-title">${item.title}</div>
          <div class="result-category">Kategori: ${item.category}</div>
          <div class="result-description">${item.description}</div>
        </div>
      `;
      container.appendChild(card);
    });
  }

  async function initLiveSearch() {
    const data = await fetchIndex();
    const fuse = new Fuse(data, {
      keys: ['title', 'description', 'category'],
      includeScore: false,
      threshold: 0.4,
    });

    const input = document.getElementById('search-input');
    const category = document.getElementById('category-filter');
    const form = document.getElementById('live-search-form');

    function searchNow(e) {
      if (e) e.preventDefault();
      const keyword = input.value.trim();
      const selected = category.value;
      let results = keyword ? fuse.search(keyword).map(r => r.item) : data;
      if (selected !== 'all') {
        results = results.filter(r => r.category === selected);
      }
      renderResults(results);
    }

    input.addEventListener('input', searchNow);
    category.addEventListener('change', searchNow);
    form.addEventListener('submit', searchNow);
  }

  initLiveSearch();
</script>

</body>
</html>
